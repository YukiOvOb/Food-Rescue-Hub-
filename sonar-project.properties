# Configure SonarCloud project properties.
# See https://docs.sonarcloud.io/advanced-setup/analysis-parameters/

sonar.projectKey=harini14hari_Food-Rescue-Hub-
sonar.organization=harini14hari

# Define sources, ensuring no overlap with test paths.
# We specify the 'main' folder for backend to avoid indexing test files twice.
sonar.sources=backend/src/main,frontend,ai_service,android

# Define test sources.
# Keep test paths disjoint from sonar.sources to avoid "indexed twice" errors.
sonar.tests=backend/src/test

# Define where compiled Java bytecode is located.
# SonarCloud needs compiled classes; these are produced by Maven under target/classes.
sonar.java.binaries=backend/target/classes

# Import test coverage reports (generated by CI jobs and downloaded in the SonarCloud job).
sonar.coverage.jacoco.xmlReportPaths=backend/target/site/jacoco/jacoco.xml
sonar.python.coverage.reportPaths=ai_service/coverage.xml
sonar.python.xunit.reportPath=ai_service/pytest-junit.xml

# Set the project's character encoding.
sonar.sourceEncoding=UTF-8

# --- Exclusions to prevent "indexed twice" errors ---
# Exclude test resource files from the main source analysis, as they are handled
# as part of the test analysis. This resolves the error for files like
# 'application-test.properties'. Also exclude AI service test files.
# See: https://docs.sonarqube.org/latest/analysis/exclusions/
sonar.exclusions=backend/src/test/**,ai_service/tests/**

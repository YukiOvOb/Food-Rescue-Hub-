{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/supplier/orders/{orderId}/reject":{"put":{"tags":["supplier-order-controller"],"operationId":"rejectOrder","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RejectOrderRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Order"}}}}}}},"/api/supplier/orders/{orderId}/cancel":{"put":{"tags":["supplier-order-controller"],"operationId":"cancelAcceptedOrder","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RejectOrderRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Order"}}}}}}},"/api/supplier/orders/{orderId}/accept":{"put":{"tags":["supplier-order-controller"],"operationId":"acceptOrder","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Order"}}}}}}},"/api/supplier/listings/{id}":{"get":{"tags":["listing-controller"],"operationId":"getListingById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"put":{"tags":["listing-controller"],"operationId":"updateListing","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Listing"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"delete":{"tags":["listing-controller"],"operationId":"deleteListing","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/supplier/inventory/{listingId}/adjust":{"put":{"tags":["supplier-inventory-controller"],"operationId":"adjustInventory","parameters":[{"name":"listingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryAdjustRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/stores/update/{storeId}":{"put":{"tags":["store-controller"],"operationId":"updateStore","parameters":[{"name":"storeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoreResponse"}}}}}}},"/api/orders/{orderId}":{"get":{"tags":["order-controller"],"operationId":"getOrderById","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"put":{"tags":["order-controller"],"operationId":"updateOrder","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Order"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"delete":{"tags":["order-controller"],"operationId":"deleteOrder","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/consumer/profile/{consumerId}/location":{"get":{"tags":["consumer-profile-controller"],"operationId":"getLocation","parameters":[{"name":"consumerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"put":{"tags":["consumer-profile-controller"],"operationId":"updateLocation","parameters":[{"name":"consumerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLocationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/supplier/listings":{"get":{"tags":["listing-controller"],"operationId":"getAllListings","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Listing"}}}}}}},"post":{"tags":["listing-controller"],"operationId":"createListing","parameters":[{"name":"storeId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Listing"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/stores/create":{"post":{"tags":["store-controller"],"operationId":"createNewStore","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoreResponse"}}}}}}},"/api/pickup-tokens/{orderId}/generate-qrcode":{"post":{"tags":["pickup-token-controller"],"operationId":"generateQRCode","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/pickup-tokens/decode-qrcode":{"post":{"tags":["pickup-token-controller"],"operationId":"decodeQRCode","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}},"required":["file"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/orders":{"get":{"tags":["order-controller"],"operationId":"getAllOrders","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"post":{"tags":["order-controller"],"operationId":"createOrder","parameters":[{"name":"pickupSlotStart","in":"query","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"pickupSlotEnd","in":"query","required":false,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/mobile/checkout/start":{"post":{"tags":["mobile-checkout-controller"],"operationId":"startMobileCheckout","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/interactions/record":{"post":{"tags":["interaction-controller"],"operationId":"recordInteraction","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInteractionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{}}}}}}}},"/api/interactions/batch":{"post":{"tags":["interaction-controller"],"operationId":"recordInteractionsBatch","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserInteractionRequest"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{}}}}}}}},"/api/consumer/orders":{"get":{"tags":["consumer-order-controller"],"operationId":"getOrdersByConsumerId","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Order"}}}}}}},"post":{"tags":["supplier-order-controller"],"operationId":"createOrder_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Order"}}}}}}},"/api/cart/items":{"post":{"tags":["cart-controller"],"operationId":"addItem","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}}}},"delete":{"tags":["cart-controller"],"operationId":"clearCart","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}}}}},"/api/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/auth/logout":{"post":{"tags":["auth-controller"],"operationId":"logout","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/orders/{orderId}/status":{"patch":{"tags":["order-controller"],"operationId":"updateOrderStatus","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/orders/{orderId}/cancel":{"patch":{"tags":["order-controller"],"operationId":"cancelOrder","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"cancelReason","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/consumer/orders/order/{orderId}/status":{"patch":{"tags":["consumer-order-controller"],"operationId":"updateOrderStatus_1","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Order"}}}}}}},"/api/cart/items/{listingId}":{"delete":{"tags":["cart-controller"],"operationId":"removeItem","parameters":[{"name":"listingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}}}},"patch":{"tags":["cart-controller"],"operationId":"updateQuantity","parameters":[{"name":"listingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}}}}},"/api/supplier/orders/{storeId}":{"get":{"tags":["supplier-order-controller"],"operationId":"getOrderQueue","parameters":[{"name":"storeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderSummaryDTO"}}}}}}}},"/api/supplier/listings/supplier/{supplierId}":{"get":{"tags":["listing-controller"],"operationId":"getListingsBySupplier","parameters":[{"name":"supplierId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Listing"}}}}}}}},"/api/supplier/inventory/{listingId}":{"get":{"tags":["supplier-inventory-controller"],"operationId":"getStock","parameters":[{"name":"listingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Inventory"}}}}}}},"/api/stores/{storeId}":{"get":{"tags":["store-controller"],"operationId":"getStoreById","parameters":[{"name":"storeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoreResponse"}}}}}}},"/api/stores/supplier/{supplierId}":{"get":{"tags":["store-controller"],"operationId":"getStoresBySupplier","parameters":[{"name":"supplierId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoreResponse"}}}}}}}},"/api/recommendations/search":{"get":{"tags":["recommendation-controller"],"operationId":"searchWithRecommendations","parameters":[{"name":"consumerId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"query","in":"query","required":true,"schema":{"type":"string"}},{"name":"topK","in":"query","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"lat","in":"query","required":false,"schema":{"type":"number","format":"double"}},{"name":"lng","in":"query","required":false,"schema":{"type":"number","format":"double"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{}}}}}}}},"/api/recommendations/homepage":{"get":{"tags":["recommendation-controller"],"operationId":"getHomepageRecommendations","parameters":[{"name":"consumerId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"topK","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":5}},{"name":"lat","in":"query","required":false,"schema":{"type":"number","format":"double"}},{"name":"lng","in":"query","required":false,"schema":{"type":"number","format":"double"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{}}}}}}}},"/api/recommendations/health":{"get":{"tags":["recommendation-controller"],"operationId":"healthCheck","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{}}}}}}}},"/api/pickup-tokens/{orderId}":{"get":{"tags":["pickup-token-controller"],"operationId":"getPickupToken","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PickupToken"}}}}}}},"/api/people":{"get":{"tags":["people-controller"],"operationId":"findAllPeople","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TestPerson"}}}}}}}},"/api/orders/store/{storeId}":{"get":{"tags":["order-controller"],"operationId":"getOrdersByStore","parameters":[{"name":"storeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/orders/store/{storeId}/status/{status}":{"get":{"tags":["order-controller"],"operationId":"getOrdersByStoreAndStatus","parameters":[{"name":"storeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/orders/status/{status}":{"get":{"tags":["order-controller"],"operationId":"getOrdersByStatus","parameters":[{"name":"status","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/orders/consumer":{"get":{"tags":["order-controller"],"operationId":"getOrdersByConsumer","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/login-safe-jdbc":{"get":{"tags":["hello-controller"],"operationId":"loginSafeJdbc","parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/listings":{"get":{"tags":["consumer-listing-controller"],"operationId":"getAllListings_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ListingDTO"}}}}}}}},"/api/listings/nearby":{"get":{"tags":["consumer-listing-controller"],"operationId":"getNearbyListings","parameters":[{"name":"lat","in":"query","required":true,"schema":{"type":"number","format":"double"}},{"name":"lng","in":"query","required":true,"schema":{"type":"number","format":"double"}},{"name":"radius","in":"query","required":false,"schema":{"type":"number","format":"double","default":5.0}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ListingDTO"}}}}}}}},"/api/listings/category/{category}":{"get":{"tags":["consumer-listing-controller"],"operationId":"getListingsByCategory","parameters":[{"name":"category","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ListingDTO"}}}}}}}},"/api/interactions/health":{"get":{"tags":["interaction-controller"],"operationId":"healthCheck_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{}}}}}}}},"/api/hello":{"get":{"tags":["hello-controller"],"operationId":"hello","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/consumer/{consumerId}":{"get":{"tags":["consumer-controller"],"operationId":"getConsumerById","parameters":[{"name":"consumerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/consumer/orders/status/{status}":{"get":{"tags":["consumer-order-controller"],"operationId":"getOrdersByConsumerIdAndStatus","parameters":[{"name":"status","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Order"}}}}}}}},"/api/consumer/orders/order/{orderId}":{"get":{"tags":["consumer-order-controller"],"operationId":"getOrderById_1","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Order"}}}}}}},"/api/consumer/by-email":{"get":{"tags":["consumer-controller"],"operationId":"getConsumerByEmail","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/cart":{"get":{"tags":["cart-controller"],"operationId":"getCart","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}}}}},"/api/auth/me":{"get":{"tags":["auth-controller"],"operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/analytics/supplier/{supplierId}/top-products":{"get":{"tags":["analytics-controller"],"operationId":"getTopSellingProducts","parameters":[{"name":"supplierId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":3}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/stores/delete/{storeId}":{"delete":{"tags":["store-controller"],"operationId":"deleteStore","parameters":[{"name":"storeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"RejectOrderRequest":{"type":"object","properties":{"reason":{"type":"string","maxLength":300,"minLength":0}},"required":["reason"]},"CommissionLedger":{"type":"object","properties":{"commissionId":{"type":"integer","format":"int64"},"commissionAmount":{"type":"number"},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"ConsumerProfile":{"type":"object","properties":{"consumerId":{"type":"integer","format":"int64"},"displayName":{"type":"string"},"default_lat":{"type":"number"},"default_lng":{"type":"number"}}},"DietaryTag":{"type":"object","properties":{"tagId":{"type":"integer","format":"int64"},"tagName":{"type":"string"}}},"Listing":{"type":"object","properties":{"listingId":{"type":"integer","format":"int64"},"store":{"$ref":"#/components/schemas/Store"},"dietaryTags":{"type":"array","items":{"$ref":"#/components/schemas/DietaryTag"}},"photos":{"type":"array","items":{"$ref":"#/components/schemas/ListingPhoto"}},"title":{"type":"string"},"description":{"type":"string"},"originalPrice":{"type":"number"},"rescuePrice":{"type":"number"},"pickupStart":{"type":"string","format":"date-time"},"pickupEnd":{"type":"string","format":"date-time"},"expiryAt":{"type":"string","format":"date-time"},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"availableQty":{"type":"integer","format":"int32"}}},"ListingPhoto":{"type":"object","properties":{"listingPhotoId":{"type":"integer","format":"int64"},"photoUrl":{"type":"string"},"sortOrder":{"type":"integer","format":"int32"},"uploadedAt":{"type":"string","format":"date-time"}}},"Order":{"type":"object","properties":{"orderId":{"type":"integer","format":"int64"},"store":{"$ref":"#/components/schemas/Store"},"consumer":{"$ref":"#/components/schemas/ConsumerProfile"},"orderItems":{"type":"array","items":{"$ref":"#/components/schemas/OrderItem"}},"pickupFeedback":{"$ref":"#/components/schemas/PickupFeedback"},"payments":{"type":"array","items":{"$ref":"#/components/schemas/Payment"}},"pickupToken":{"$ref":"#/components/schemas/PickupToken"},"commission":{"$ref":"#/components/schemas/CommissionLedger"},"status":{"type":"string"},"pickupSlotStart":{"type":"string","format":"date-time"},"pickupSlotEnd":{"type":"string","format":"date-time"},"totalAmount":{"type":"number"},"currency":{"type":"string"},"cancelReason":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"OrderItem":{"type":"object","properties":{"orderItemId":{"type":"integer","format":"int64"},"listing":{"$ref":"#/components/schemas/Listing"},"quantity":{"type":"integer","format":"int32"},"unitPrice":{"type":"number"},"lineTotal":{"type":"number"}}},"Payment":{"type":"object","properties":{"paymentId":{"type":"integer","format":"int64"},"provider":{"type":"string"},"providerRef":{"type":"string"},"amount":{"type":"number"},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"capturedAt":{"type":"string","format":"date-time"},"refundedAt":{"type":"string","format":"date-time"}}},"PickupFeedback":{"type":"object","properties":{"feedbackId":{"type":"integer","format":"int64"},"feedbackReview":{"type":"string"},"onTime":{"type":"boolean"},"expiresAt":{"type":"string","format":"date-time"},"usedAt":{"type":"string","format":"date-time"}}},"PickupToken":{"type":"object","properties":{"orderId":{"type":"integer","format":"int64"},"qrTokenHash":{"type":"string"},"issuedAt":{"type":"string","format":"date-time"},"expiresAt":{"type":"string","format":"date-time"},"usedAt":{"type":"string","format":"date-time"},"valid":{"type":"boolean"}}},"Store":{"type":"object","properties":{"storeId":{"type":"integer","format":"int64"},"storeName":{"type":"string"},"description":{"type":"string"},"addressLine":{"type":"string"},"postalCode":{"type":"string"},"lat":{"type":"number"},"lng":{"type":"number"},"pickupInstructions":{"type":"string"},"openingHours":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"active":{"type":"boolean"}}},"InventoryAdjustRequest":{"type":"object","properties":{"delta":{"type":"integer","format":"int32"}},"required":["delta"]},"StoreRequest":{"type":"object","properties":{"supplierId":{"type":"integer","format":"int64","description":"ID of the user/supplier creating the store","example":5},"storeName":{"type":"string","description":"Public name of the store","example":"Bakery","maxLength":100,"minLength":3},"addressLine":{"type":"string","example":123,"minLength":1},"postalCode":{"type":"string","example":119077,"pattern":"^\\d{6}$"},"lat":{"type":"number","example":1.3521,"maximum":1.48,"minimum":1.15},"lng":{"type":"number","example":103.8198,"maximum":104.05,"minimum":103.59},"openingHours":{"type":"string","example":"09:00 - 21:00","maxLength":50,"minLength":0},"description":{"type":"string","maxLength":500,"minLength":0},"pickupInstructions":{"type":"string"}},"required":["addressLine","lat","lng","storeName","supplierId"]},"StoreResponse":{"type":"object","properties":{"storeId":{"type":"integer","format":"int64"},"supplierId":{"type":"integer","format":"int64"},"storeName":{"type":"string"},"addressLine":{"type":"string"},"postalCode":{"type":"string"},"lat":{"type":"number"},"lng":{"type":"number"},"openingHours":{"type":"string"},"description":{"type":"string"},"pickupInstructions":{"type":"string"},"active":{"type":"boolean"}}},"UpdateLocationRequest":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}}},"CheckoutItem":{"type":"object","properties":{"listingId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"}}},"CheckoutRequest":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/CheckoutItem"}},"pickupSlotStart":{"type":"string","format":"date-time"},"pickupSlotEnd":{"type":"string","format":"date-time"}}},"UserInteractionRequest":{"type":"object","properties":{"consumerId":{"type":"integer","format":"int64"},"listingId":{"type":"integer","format":"int64"},"interactionType":{"type":"string","enum":["VIEW","CLICK","SEARCH","ADD_TO_CART"]},"sessionId":{"type":"string"},"deviceType":{"type":"string"}}},"CreateOrderRequest":{"type":"object","properties":{"listingId":{"type":"integer","format":"int64"},"consumerId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32","minimum":1},"pickupSlotStart":{"type":"string","format":"date-time"},"pickupSlotEnd":{"type":"string","format":"date-time"}},"required":["consumerId","listingId","quantity"]},"CartItemDto":{"type":"object","properties":{"listingId":{"type":"integer","format":"int64"},"title":{"type":"string"},"imageUrl":{"type":"string"},"unitPrice":{"type":"number"},"qty":{"type":"integer","format":"int32"},"lineTotal":{"type":"number"},"pickupStart":{"type":"string"},"pickupEnd":{"type":"string"},"storeName":{"type":"string"},"originalPrice":{"type":"number"},"savingsLabel":{"type":"string"}}},"CartResponseDto":{"type":"object","properties":{"cartId":{"type":"integer","format":"int64"},"supplierId":{"type":"integer","format":"int64"},"items":{"type":"array","items":{"$ref":"#/components/schemas/CartItemDto"}},"subtotal":{"type":"number"},"total":{"type":"number"},"totalSavings":{"type":"number"}}},"RegisterRequest":{"type":"object","properties":{"email":{"type":"string","format":"email","minLength":1},"password":{"type":"string","maxLength":2147483647,"minLength":8},"displayName":{"type":"string","minLength":1},"phone":{"type":"string"},"businessName":{"type":"string"},"businessType":{"type":"string"},"payoutAccountRef":{"type":"string"},"role":{"type":"string","minLength":1}},"required":["displayName","email","password","role"]},"LoginRequest":{"type":"object","properties":{"email":{"type":"string","minLength":1},"password":{"type":"string","minLength":1}},"required":["email","password"]},"OrderSummaryDTO":{"type":"object","properties":{"orderId":{"type":"integer","format":"int64"},"status":{"type":"string"},"listingId":{"type":"integer","format":"int64"},"listingTitle":{"type":"string"},"quantity":{"type":"integer","format":"int32"},"unitPrice":{"type":"number"},"totalAmount":{"type":"number"},"consumerId":{"type":"integer","format":"int64"},"consumerName":{"type":"string"},"consumerPhone":{"type":"string"},"pickupSlotStart":{"type":"string","format":"date-time"},"pickupSlotEnd":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"cancelReason":{"type":"string"}}},"Inventory":{"type":"object","properties":{"inventoryId":{"type":"integer","format":"int64"},"listing":{"$ref":"#/components/schemas/Listing"},"qtyAvailable":{"type":"integer","format":"int32"},"qtyReserved":{"type":"integer","format":"int32"},"lastUpdated":{"type":"string","format":"date-time"}}},"TestPerson":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"age":{"type":"integer","format":"int32"},"gender":{"type":"string"}}},"ListingDTO":{"type":"object","properties":{"listingId":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"originalPrice":{"type":"number"},"rescuePrice":{"type":"number"},"pickupStart":{"type":"string","format":"date-time"},"pickupEnd":{"type":"string","format":"date-time"},"expiryAt":{"type":"string","format":"date-time"},"status":{"type":"string"},"storeId":{"type":"integer","format":"int64"},"storeName":{"type":"string"},"storeDescription":{"type":"string"},"addressLine":{"type":"string"},"postalCode":{"type":"string"},"lat":{"type":"number"},"lng":{"type":"number"},"pickupInstructions":{"type":"string"},"openingHours":{"type":"string"},"category":{"type":"string"},"qtyAvailable":{"type":"integer","format":"int32"},"qtyReserved":{"type":"integer","format":"int32"},"photoUrls":{"type":"array","items":{"type":"string"}},"timeRemaining":{"type":"string"},"savingsAmount":{"type":"number"},"savingsLabel":{"type":"string"}}}}}}